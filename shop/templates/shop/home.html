{% extends "shop/utils/base.html" %}
{% load cloudinary %}
{% block content %}
  {% if books %}
    <section id="hero" class="hero">
      <div class="hero__grid">
        {% with books|first as book %}
          <div class="card">
            {% with book.image_preview as image %}
              {% cloudinary image class="card__image" loading="lazy" alt=book %}
            {% endwith %}
            <hgroup class="card__title">
              <p>{{ book.name }}</p>
              <p>{{ book.author }}</p>
            </hgroup>
            <a href="{% url 'book-detail' book.slug %}" class="card__link"></a>
          </div>
        {% endwith %}
        <div class="hero__heading">
          <hgroup class="hero__hgroup">
            <h1>Books for Every Chapter of Your&nbsp;Life</h1>
            <p>
              From childhood favorites to life-changing reads, we have something for every stage of your journey. Discover stories that resonate and books that become lifelong&nbsp;companions.
            </p>
          </hgroup>
          <div class="navbar__search">
            <form action="/" role="search">
              <input type="search"
                     id="search"
                     name="search"
                     placeholder="{{ random_book }}">
              <input type="submit" value="Search" />
            </form>
          </div>
        </div>
        {% with books.1 as book %}
          <div class="card right">
            <hgroup class="card__title">
              <p>{{ book.name }}</p>
              <p>{{ book.author }}</p>
            </hgroup>
            {% with book.image_preview as image %}
              {% cloudinary image class="card__image" loading="lazy" alt=book %}
            {% endwith %}
            <a href="{% url 'book-detail' book.slug %}" class="card__link"></a>
          </div>
        {% endwith %}
      </div>
    </section>
    <hr>
    <section id="books" class="books">
      <div>
        <h3>New books</h3>
      </div>
      {% include 'shop/utils/books.html' with books=books|slice:"1:" %}
    </section>
  {% else %}
    {% include 'shop/utils/nothing.html' %}
  {% endif %}
{% endblock content %}
