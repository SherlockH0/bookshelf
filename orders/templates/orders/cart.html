{% extends 'shop/utils/base.html' %}
{% block content %}
    {% if items %}
        <section>
            <h2>Shopping cart</h2>
            <div class="cart__heading">
                <a href="{% url 'shop-home' %}" role="button" class="secondary">Back to shop</a>

                <a href="{% url 'checkout' %}" role="button">Checkout</a>
            </div>
        </section>
        <section>
            <div class="cart__table">
                {% for item in items%}
                    <hr>
                    <div class="cart__book">
                        <img class="card__image" src="{{ item.book.image.url }}" loading="lazy" alt="{{ item.book.name }} - {{ item.book.author }}">
                        <div>
                            <hgroup>
                                <h5><a href="{% url 'book-detail' item.book.slug %}">{{ item.book.name }}</a></h5>
                                <p><small>{{ item.book.author }}</small></p>
                            </hgroup>
                            <strong>${{ item.book.price }}</strong>
                            <div>
                                <input
                                    type="number"
                                    min="1"
                                    data-item="{{ item.id }}"
                                    aria-label="Quantity"
                                    value="{{ item.quantity }}"
                                    class="change-item"
                                    />
                                <button
                                    class="outline contrast delete-item"
                                    data-item="{{ item.id }}">
                                    <i class="bi bi-trash3-fill"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                {% endfor %}
        </section>
    {% else %}
        <div class="container text center">
            <h1>Your cart is empty</h1>
            <a href="{% url 'shop-home' %}" role="button">Start shopping</a>
        </div>
    {% endif %}

{% endblock content %}
